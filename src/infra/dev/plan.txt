module.ecs_service_poc1.data.aws_partition.current: Reading...
module.ecs_service_poc1.data.aws_region.current: Reading...
module.ecr.data.aws_partition.current: Reading...
module.elb.data.aws_partition.current: Reading...
module.ecs_service_poc1.data.aws_iam_policy_document.task_exec_assume[0]: Reading...
module.s3_bucket_for_logs.data.aws_region.current: Reading...
module.acm.aws_acm_certificate_validation.this[0]: Refreshing state... [id=2024-03-06 12:55:52.424 +0000 UTC]
module.acm.aws_route53_record.validation[0]: Refreshing state... [id=Z1015103262LHAIMGC8Z4__6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it._CNAME]
module.acm.aws_acm_certificate.this[0]: Refreshing state... [id=arn:aws:acm:eu-south-1:471112878885:certificate/ebbacb0d-4f7d-4c9b-a27a-dfaacb64c89b]
module.s3_bucket_for_logs.data.aws_region.current: Read complete after 0s [id=eu-south-1]
module.ecs_service_poc1.data.aws_partition.current: Read complete after 0s [id=aws]
module.s3_bucket_for_logs.aws_s3_bucket.this[0]: Refreshing state... [id=assertions20240416124202188200000001]
module.elb.data.aws_partition.current: Read complete after 0s [id=aws]
module.ecr.data.aws_partition.current: Read complete after 0s [id=aws]
module.ecs_service_poc1.data.aws_region.current: Read complete after 0s [id=eu-south-1]
module.ecs_service_poc1.data.aws_iam_policy_document.task_exec_assume[0]: Read complete after 0s [id=2291109037]
module.s3_bucket_for_logs.data.aws_caller_identity.current: Reading...
module.ecr.data.aws_caller_identity.current: Reading...
module.s3_bucket_for_logs.data.aws_canonical_user_id.this[0]: Reading...
module.alb.data.aws_partition.current: Reading...
module.ecs.module.cluster.aws_cloudwatch_log_group.this[0]: Refreshing state... [id=/aws/ecs/oneid-es-1-d-ecs]
module.alb.data.aws_partition.current: Read complete after 0s [id=aws]
module.poc_v2.aws_iam_role.apigw: Refreshing state... [id=pocv2Role]
module.s3_bucket_for_logs.data.aws_partition.current: Reading...
module.s3_bucket_for_logs.data.aws_partition.current: Read complete after 0s [id=aws]
module.ecs_service_poc1.data.aws_caller_identity.current: Reading...
module.s3_bucket_for_logs.data.aws_caller_identity.current: Read complete after 0s [id=471112878885]
module.ecr.aws_ecr_repository.this[0]: Refreshing state... [id=oneid-es-1-d-ecr]
module.ecr.data.aws_caller_identity.current: Read complete after 0s [id=471112878885]
module.network.module.vpc.aws_vpc.this[0]: Refreshing state... [id=vpc-086edac46f3507891]
module.ecs_service_poc1.data.aws_caller_identity.current: Read complete after 0s [id=471112878885]
module.ecs_service_poc1.data.aws_iam_policy_document.tasks[0]: Reading...
module.ecs_service_poc1.data.aws_iam_policy_document.tasks[0]: Read complete after 0s [id=757765849]
module.network.module.zones.aws_route53_zone.this["dev.oneidentity.pagopa.it"]: Refreshing state... [id=Z1015103262LHAIMGC8Z4]
module.s3_bucket_for_logs.data.aws_canonical_user_id.this[0]: Read complete after 0s [id=c2a7aca4a50bd93bc4e81a1b2d5e31d1d4562b2c042af7a7e43a3452da9cff60]
module.network.module.zones.aws_route53_zone.this["oneidentity.pagopa.it"]: Refreshing state... [id=Z01505331W91UCSKYD879]
module.ecs_service_poc1.data.aws_iam_policy_document.task_exec[0]: Reading...
module.ecs_service_poc1.data.aws_iam_policy_document.task_exec[0]: Read complete after 0s [id=1415633931]
module.ecs_service_poc1.aws_iam_role.task_exec[0]: Refreshing state... [id=oneidentity_poc1-20240320112121954900000009]
module.ecr.data.aws_iam_policy_document.repository[0]: Reading...
module.ecr.data.aws_iam_policy_document.repository[0]: Read complete after 0s [id=3602305533]
module.ecs_service_poc1.aws_iam_policy.task_exec[0]: Refreshing state... [id=arn:aws:iam::471112878885:policy/oneidentity_poc1-20240320111712680300000005]
module.ecs_service_poc1.data.aws_iam_policy_document.tasks_assume[0]: Reading...
module.ecr.aws_ecr_repository_policy.this[0]: Refreshing state... [id=oneid-es-1-d-ecr]
module.ecs_service_poc1.data.aws_iam_policy_document.tasks_assume[0]: Read complete after 0s [id=2368848633]
module.ecr.aws_ecr_lifecycle_policy.this[0]: Refreshing state... [id=oneid-es-1-d-ecr]
module.ecs.module.cluster.aws_ecs_cluster.this[0]: Refreshing state... [id=arn:aws:ecs:eu-south-1:471112878885:cluster/oneid-es-1-d-ecs]
module.ecs_service_poc1.aws_iam_role.tasks[0]: Refreshing state... [id=oneidentity_poc1-2024032011212195520000000a]
module.ecs.module.cluster.aws_ecs_cluster_capacity_providers.this[0]: Refreshing state... [id=oneid-es-1-d-ecs]
module.ecs_service_poc1.module.container_definition["oneidentity"].data.aws_region.current: Reading...
module.ecs_service_poc1.module.container_definition["oneidentity"].data.aws_region.current: Read complete after 0s [id=eu-south-1]
module.s3_bucket_for_logs.aws_s3_bucket_public_access_block.this[0]: Refreshing state... [id=assertions20240416124202188200000001]
module.s3_bucket_for_logs.aws_s3_bucket_versioning.this[0]: Refreshing state... [id=assertions20240416124202188200000001]
module.s3_bucket_for_logs.aws_s3_bucket_ownership_controls.this[0]: Refreshing state... [id=assertions20240416124202188200000001]
module.ecs_service_poc1.module.container_definition["oneidentity"].aws_cloudwatch_log_group.this[0]: Refreshing state... [id=/aws/ecs/oneidentity_poc1/oneidentity]
module.s3_bucket_for_logs.aws_s3_bucket_acl.this[0]: Refreshing state... [id=assertions20240416124202188200000001,private]
module.network.module.vpc.aws_default_route_table.default[0]: Refreshing state... [id=rtb-0c2c08a750490a8fb]
module.network.module.vpc.aws_default_network_acl.this[0]: Refreshing state... [id=acl-0389b07f2ec1165d1]
module.network.module.vpc.aws_default_security_group.this[0]: Refreshing state... [id=sg-09368a3622a3a8a0a]
module.network.data.aws_security_group.default: Reading...
module.network.aws_security_group.vpc_tls: Refreshing state... [id=sg-049026bd0e08454ee]
module.network.module.vpc.aws_route_table.private[0]: Refreshing state... [id=rtb-0f1778037777129a1]
module.network.module.vpc.aws_subnet.public[0]: Refreshing state... [id=subnet-0041d01b269742007]
module.network.module.vpc.aws_subnet.public[1]: Refreshing state... [id=subnet-0468549c8739594ba]
module.network.module.vpc.aws_subnet.public[2]: Refreshing state... [id=subnet-0e908f284e2b8d636]
module.network.data.aws_security_group.default: Read complete after 0s [id=sg-09368a3622a3a8a0a]
module.network.module.vpc.aws_route_table.intra[0]: Refreshing state... [id=rtb-07d50d15d42ee9e4d]
module.network.module.vpc.aws_subnet.private[1]: Refreshing state... [id=subnet-0342cf188641b0c3d]
module.network.module.vpc.aws_subnet.private[0]: Refreshing state... [id=subnet-055b9cdfd68b55344]
module.network.module.vpc.aws_subnet.private[2]: Refreshing state... [id=subnet-029c4430d20034799]
module.network.module.vpc.aws_subnet.intra[0]: Refreshing state... [id=subnet-0137f46c533dd8fa2]
module.network.module.vpc.aws_subnet.intra[1]: Refreshing state... [id=subnet-0d2f74945fd414ea5]
module.network.module.vpc.aws_subnet.intra[2]: Refreshing state... [id=subnet-0b81de7825f30e497]
module.network.module.vpc.aws_internet_gateway.this[0]: Refreshing state... [id=igw-06c474f68b7e28bea]
module.network.module.vpc.aws_route_table.public[0]: Refreshing state... [id=rtb-03dc36d9cc208085d]
module.ecs_service_poc1.aws_iam_role_policy_attachment.task_exec[0]: Refreshing state... [id=oneidentity_poc1-20240320112121954900000009-2024032011212310200000000d]
module.elb.aws_security_group.this[0]: Refreshing state... [id=sg-05052a7bd74e21198]
module.elb.aws_lb_target_group.this["ecs-two"]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:targetgroup/t2-20240325103645073900000003/f17535f599791557]
module.alb.aws_security_group.this[0]: Refreshing state... [id=sg-0c47e216798c926b9]
module.alb.aws_lb_target_group.this["ecs_oneidentity"]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:targetgroup/tf-20240325092023519000000001/ab9c9ebdb9dfe6a8]
module.network.module.vpc.aws_route_table_association.private[1]: Refreshing state... [id=rtbassoc-07153106bf0bde4df]
module.network.module.vpc.aws_route_table_association.private[2]: Refreshing state... [id=rtbassoc-081f6f85b02cc78dd]
module.network.module.vpc.aws_route_table_association.private[0]: Refreshing state... [id=rtbassoc-0bedf69f157e6c161]
module.poc_v2.aws_iam_role_policy.cloudwatch: Refreshing state... [id=pocv2Role:default]
module.poc_v2.aws_api_gateway_account.main: Refreshing state... [id=api-gateway-account]
module.network.module.vpc.aws_route_table_association.intra[1]: Refreshing state... [id=rtbassoc-0379f0439079087aa]
module.network.module.vpc.aws_route_table_association.intra[2]: Refreshing state... [id=rtbassoc-01f67a6b07bd40de9]
module.network.module.vpc.aws_route_table_association.intra[0]: Refreshing state... [id=rtbassoc-022f4898afb91c05b]
module.network.module.vpc.aws_route_table_association.public[0]: Refreshing state... [id=rtbassoc-0a7f997b029f042d6]
module.network.module.vpc.aws_route_table_association.public[1]: Refreshing state... [id=rtbassoc-03a8c7a03dce3be4d]
module.network.module.vpc.aws_route_table_association.public[2]: Refreshing state... [id=rtbassoc-0372a52ad4fe96e7a]
module.network.module.vpc.aws_route.public_internet_gateway[0]: Refreshing state... [id=r-rtb-03dc36d9cc208085d1080289494]
module.elb.aws_vpc_security_group_egress_rule.this["all"]: Refreshing state... [id=sgr-07dec5072b3ca7de6]
module.elb.aws_vpc_security_group_ingress_rule.this["all_tcp"]: Refreshing state... [id=sgr-0a52b159a39ef9f7d]
module.ecs_service_poc1.aws_iam_role_policy.tasks[0]: Refreshing state... [id=oneidentity_poc1-2024032011212195520000000a:oneidentity_poc1-2024032011212290800000000c]
module.ecs_service_poc1.aws_ecs_task_definition.this[0]: Refreshing state... [id=oneidentity_poc1]
module.alb.aws_vpc_security_group_egress_rule.this["all"]: Refreshing state... [id=sgr-07cda80dd94354ebd]
module.alb.aws_vpc_security_group_ingress_rule.this["all_http"]: Refreshing state... [id=sgr-02a03a74b720df306]
module.alb.aws_vpc_security_group_ingress_rule.this["all_https"]: Refreshing state... [id=sgr-00a7c88baac044b89]
module.alb.aws_lb.this[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:loadbalancer/app/oneid-es-1-d-alb/f13a75a41199302a]
module.network.module.records.data.aws_route53_zone.this[0]: Reading...
module.elb.aws_lb.this[0]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:loadbalancer/net/oneid-es-1-d-nlb/55e37688865bc4c0]
module.ecs_service_poc1.data.aws_subnet.this[0]: Reading...
module.ecs_service_poc1.data.aws_ecs_task_definition.this[0]: Reading...
module.ecs_service_poc1.data.aws_subnet.this[0]: Read complete after 0s [id=subnet-055b9cdfd68b55344]
module.ecs_service_poc1.data.aws_ecs_task_definition.this[0]: Read complete after 0s [id=arn:aws:ecs:eu-south-1:471112878885:task-definition/oneidentity_poc1:24]
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["ecr_api"]: Reading...
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["logs"]: Reading...
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["s3"]: Reading...
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["ecr_dkr"]: Reading...
module.ecs_service_poc1.aws_security_group.this[0]: Refreshing state... [id=sg-04a87a6e1110e1a2c]
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["ecr_api"]: Read complete after 0s [id=1944081988]
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["s3"]: Read complete after 0s [id=1366524782]
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["ecr_dkr"]: Read complete after 0s [id=1450743513]
module.network.module.vpc_endpoints.data.aws_vpc_endpoint_service.this["logs"]: Read complete after 0s [id=1081776836]
module.alb.aws_lb_listener.this["ex-http-https-redirect"]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:listener/app/oneid-es-1-d-alb/f13a75a41199302a/32f9ec7122e32007]
module.alb.aws_lb_listener.this["ex_https"]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:listener/app/oneid-es-1-d-alb/f13a75a41199302a/0f441cb1ccc5880b]
module.network.module.vpc_endpoints.aws_vpc_endpoint.this["logs"]: Refreshing state... [id=vpce-00b094c3e6b4fa1d2]
module.network.module.vpc_endpoints.aws_vpc_endpoint.this["ecr_dkr"]: Refreshing state... [id=vpce-02f8a52c32b6a1ba6]
module.network.module.vpc_endpoints.aws_vpc_endpoint.this["s3"]: Refreshing state... [id=vpce-00c0af3b0cdefca43]
module.network.module.vpc_endpoints.aws_vpc_endpoint.this["ecr_api"]: Refreshing state... [id=vpce-0ad900e4f976f8d4d]
module.ecs_service_poc1.aws_security_group_rule.this["alb_ingress_3000"]: Refreshing state... [id=sgrule-3104482144]
module.ecs_service_poc1.aws_security_group_rule.this["egress_all"]: Refreshing state... [id=sgrule-3837998043]
module.elb.aws_lb_listener.this["ecs-two"]: Refreshing state... [id=arn:aws:elasticloadbalancing:eu-south-1:471112878885:listener/net/oneid-es-1-d-nlb/55e37688865bc4c0/9d9de2c8a5d53ceb]
aws_api_gateway_vpc_link.apigw: Refreshing state... [id=ybl98n]
module.ecs_service_poc1.aws_ecs_service.this[0]: Refreshing state... [id=arn:aws:ecs:eu-south-1:471112878885:service/oneid-es-1-d-ecs/oneidentity_poc1]
module.s3_bucket_for_logs.aws_s3_bucket_lifecycle_configuration.this[0]: Refreshing state... [id=assertions20240416124202188200000001]
module.poc_v2.aws_api_gateway_rest_api.main: Refreshing state... [id=e6q7ciine6]
module.network.module.records.data.aws_route53_zone.this[0]: Read complete after 0s [id=Z1015103262LHAIMGC8Z4]
module.network.module.records.aws_route53_record.this[" A"]: Refreshing state... [id=Z1015103262LHAIMGC8Z4_dev.oneidentity.pagopa.it_A]
module.ecs_service_poc1.aws_appautoscaling_target.this[0]: Refreshing state... [id=service/oneid-es-1-d-ecs/oneidentity_poc1]
module.ecs_service_poc2.data.aws_region.current: Reading...
module.ecs_service_poc2.data.aws_caller_identity.current: Reading...
module.ecs_service_poc2.data.aws_region.current: Read complete after 0s [id=eu-south-1]
module.ecs_service_poc2.data.aws_partition.current: Reading...
module.ecs_service_poc2.data.aws_partition.current: Read complete after 0s [id=aws]
module.ecs_service_poc2.data.aws_subnet.this[0]: Reading...
module.ecs_service_poc2.module.container_definition["oneidentity"].data.aws_region.current: Reading...
module.ecs_service_poc2.data.aws_iam_policy_document.task_exec_assume[0]: Reading...
module.ecs_service_poc2.module.container_definition["oneidentity"].data.aws_region.current: Read complete after 0s [id=eu-south-1]
module.ecs_service_poc2.data.aws_caller_identity.current: Read complete after 0s [id=471112878885]
module.ecs_service_poc2.data.aws_iam_policy_document.task_exec_assume[0]: Read complete after 0s [id=2291109037]
module.ecs_service_poc2.data.aws_iam_policy_document.tasks[0]: Reading...
module.ecs_service_poc2.data.aws_iam_policy_document.task_exec[0]: Reading...
module.ecs_service_poc2.module.container_definition["oneidentity"].aws_cloudwatch_log_group.this[0]: Refreshing state... [id=/aws/ecs/oneidentity_poc2/oneidentity]
module.ecs_service_poc2.aws_iam_role.task_exec[0]: Refreshing state... [id=oneidentity_poc2-20240325104232042100000002]
module.ecs_service_poc2.data.aws_iam_policy_document.tasks_assume[0]: Reading...
module.ecs_service_poc2.data.aws_iam_policy_document.tasks[0]: Read complete after 0s [id=757765849]
module.ecs_service_poc2.data.aws_iam_policy_document.task_exec[0]: Read complete after 0s [id=1415633931]
module.ecs_service_poc2.data.aws_iam_policy_document.tasks_assume[0]: Read complete after 0s [id=2368848633]
module.ecs_service_poc2.aws_iam_policy.task_exec[0]: Refreshing state... [id=arn:aws:iam::471112878885:policy/oneidentity_poc2-20240325104232043300000004]
module.ecs_service_poc2.aws_iam_role.tasks[0]: Refreshing state... [id=oneidentity_poc2-20240325104232042200000003]
module.ecs_service_poc2.data.aws_subnet.this[0]: Read complete after 0s [id=subnet-055b9cdfd68b55344]
module.ecs_service_poc2.aws_security_group.this[0]: Refreshing state... [id=sg-0f8e2765fb9f900c5]
module.poc_v2.aws_api_gateway_deployment.main: Refreshing state... [id=szbzsr]
module.poc_v2.aws_cloudwatch_log_group.main: Refreshing state... [id=API-Gateway-Execution-Logs_e6q7ciine6/v2]
module.poc_v2.aws_api_gateway_stage.main: Refreshing state... [id=ags-e6q7ciine6-v2]
module.ecs_service_poc2.aws_security_group_rule.this["egress_all"]: Refreshing state... [id=sgrule-3498867594]
module.ecs_service_poc2.aws_security_group_rule.this["alb_ingress_3000"]: Refreshing state... [id=sgrule-4157165973]
aws_security_group_rule.allow_all_https_poc2: Refreshing state... [id=sgrule-2077995309]
module.poc_v2.aws_api_gateway_method_settings.main: Refreshing state... [id=e6q7ciine6-v2-*/*]
module.records_prod.aws_route53_record.this["dev NS"]: Refreshing state... [id=Z01505331W91UCSKYD879_dev.oneidentity.pagopa.it_NS]
module.ecs_service_poc2.aws_iam_role_policy_attachment.task_exec[0]: Refreshing state... [id=oneidentity_poc2-20240325104232042100000002-20240325104233130600000006]
module.ecs_service_poc2.aws_iam_role_policy.tasks[0]: Refreshing state... [id=oneidentity_poc2-20240325104232042200000003:oneidentity_poc2-20240325104232959700000005]
module.ecs_service_poc2.aws_ecs_task_definition.this[0]: Refreshing state... [id=oneidentity_poc2]
module.ecs_service_poc2.data.aws_ecs_task_definition.this[0]: Reading...
module.ecs_service_poc2.data.aws_ecs_task_definition.this[0]: Read complete after 0s [id=arn:aws:ecs:eu-south-1:471112878885:task-definition/oneidentity_poc2:29]
module.ecs_service_poc2.aws_ecs_service.this[0]: Refreshing state... [id=arn:aws:ecs:eu-south-1:471112878885:service/oneid-es-1-d-ecs/oneidentity_poc2]
module.ecs_service_poc2.aws_appautoscaling_target.this[0]: Refreshing state... [id=service/oneid-es-1-d-ecs/oneidentity_poc2]
module.ecs_service_poc2.aws_appautoscaling_policy.this["memory"]: Refreshing state... [id=memory]
module.ecs_service_poc2.aws_appautoscaling_policy.this["cpu"]: Refreshing state... [id=cpu]
module.ecs_service_poc1.aws_appautoscaling_policy.this["cpu"]: Refreshing state... [id=cpu]
module.ecs_service_poc1.aws_appautoscaling_policy.this["memory"]: Refreshing state... [id=memory]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
  ~ update in-place
  - destroy
-/+ destroy and then create replacement
 <= read (data resources)

Terraform will perform the following actions:

  # module.acm.aws_acm_certificate.this[0] will be destroyed
  # (because aws_acm_certificate.this is not in configuration)
  - resource "aws_acm_certificate" "this" {
      - arn                       = "arn:aws:acm:eu-south-1:471112878885:certificate/ebbacb0d-4f7d-4c9b-a27a-dfaacb64c89b" -> null
      - domain_name               = "dev.oneidentity.pagopa.it" -> null
      - domain_validation_options = [
          - {
              - domain_name           = "dev.oneidentity.pagopa.it"
              - resource_record_name  = "_6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it."
              - resource_record_type  = "CNAME"
              - resource_record_value = "_820e3279541203e170821f6a1d4190f3.mhbtsbpdnt.acm-validations.aws."
            },
        ] -> null
      - id                        = "arn:aws:acm:eu-south-1:471112878885:certificate/ebbacb0d-4f7d-4c9b-a27a-dfaacb64c89b" -> null
      - key_algorithm             = "RSA_2048" -> null
      - not_after                 = "2025-04-04T23:59:59Z" -> null
      - not_before                = "2024-03-06T00:00:00Z" -> null
      - pending_renewal           = false -> null
      - renewal_eligibility       = "ELIGIBLE" -> null
      - renewal_summary           = [] -> null
      - status                    = "ISSUED" -> null
      - subject_alternative_names = [
          - "dev.oneidentity.pagopa.it",
        ] -> null
      - tags                      = {
          - "Name" = "oneid-es-1-d-acm"
        } -> null
      - tags_all                  = {
          - "CostCenter"  = "tier0"
          - "CreatedBy"   = "Terraform"
          - "Environment" = "Dev"
          - "Name"        = "oneid-es-1-d-acm"
          - "Owner"       = "Oneidentity"
          - "Source"      = "https://github.com/pagopa/oneidentity"
        } -> null
      - type                      = "AMAZON_ISSUED" -> null
      - validation_emails         = [] -> null
      - validation_method         = "DNS" -> null

      - options {
          - certificate_transparency_logging_preference = "ENABLED" -> null
        }
    }

  # module.acm.aws_acm_certificate_validation.this[0] will be destroyed
  # (because aws_acm_certificate_validation.this is not in configuration)
  - resource "aws_acm_certificate_validation" "this" {
      - certificate_arn         = "arn:aws:acm:eu-south-1:471112878885:certificate/ebbacb0d-4f7d-4c9b-a27a-dfaacb64c89b" -> null
      - id                      = "2024-03-06 12:55:52.424 +0000 UTC" -> null
      - validation_record_fqdns = [
          - "_6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it",
        ] -> null

      - timeouts {}
    }

  # module.acm.aws_route53_record.validation[0] will be destroyed
  # (because aws_route53_record.validation is not in configuration)
  - resource "aws_route53_record" "validation" {
      - allow_overwrite                  = true -> null
      - fqdn                             = "_6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it" -> null
      - id                               = "Z1015103262LHAIMGC8Z4__6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it._CNAME" -> null
      - multivalue_answer_routing_policy = false -> null
      - name                             = "_6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it" -> null
      - records                          = [
          - "_820e3279541203e170821f6a1d4190f3.mhbtsbpdnt.acm-validations.aws.",
        ] -> null
      - ttl                              = 60 -> null
      - type                             = "CNAME" -> null
      - zone_id                          = "Z1015103262LHAIMGC8Z4" -> null
    }

  # module.alb.aws_lb_listener.this["ex_https"] will be updated in-place
  ~ resource "aws_lb_listener" "this" {
      ~ certificate_arn   = "arn:aws:acm:eu-south-1:471112878885:certificate/ebbacb0d-4f7d-4c9b-a27a-dfaacb64c89b" -> (known after apply)
        id                = "arn:aws:elasticloadbalancing:eu-south-1:471112878885:listener/app/oneid-es-1-d-alb/f13a75a41199302a/0f441cb1ccc5880b"
        tags              = {
            "Name"                  = "oneid-es-1-d-alb"
            "terraform-aws-modules" = "alb"
        }
        # (6 unchanged attributes hidden)

        # (2 unchanged blocks hidden)
    }

  # module.records_prod.data.aws_route53_zone.this[0] will be read during apply
  # (depends on a resource or a module with changes pending)
 <= data "aws_route53_zone" "this" {
      + arn                        = (known after apply)
      + caller_reference           = (known after apply)
      + comment                    = (known after apply)
      + id                         = (known after apply)
      + linked_service_description = (known after apply)
      + linked_service_principal   = (known after apply)
      + name                       = "oneidentity.pagopa.it"
      + name_servers               = (known after apply)
      + primary_name_server        = (known after apply)
      + private_zone               = false
      + resource_record_set_count  = (known after apply)
      + tags                       = (known after apply)
      + vpc_id                     = (known after apply)
      + zone_id                    = (known after apply)
    }

  # module.records_prod.aws_route53_record.this["dev NS"] must be replaced
-/+ resource "aws_route53_record" "this" {
      ~ fqdn                             = "dev.oneidentity.pagopa.it" -> (known after apply)
      ~ id                               = "Z01505331W91UCSKYD879_dev.oneidentity.pagopa.it_NS" -> (known after apply)
      - multivalue_answer_routing_policy = false -> null
        name                             = "dev.oneidentity.pagopa.it"
      ~ zone_id                          = "Z01505331W91UCSKYD879" # forces replacement -> (known after apply) # forces replacement
        # (4 unchanged attributes hidden)
    }

  # module.network.module.acm.aws_acm_certificate.this[0] will be created
  + resource "aws_acm_certificate" "this" {
      + arn                       = (known after apply)
      + domain_name               = "dev.oneidentity.pagopa.it"
      + domain_validation_options = [
          + {
              + domain_name           = "dev.oneidentity.pagopa.it"
              + resource_record_name  = (known after apply)
              + resource_record_type  = (known after apply)
              + resource_record_value = (known after apply)
            },
        ]
      + id                        = (known after apply)
      + key_algorithm             = (known after apply)
      + not_after                 = (known after apply)
      + not_before                = (known after apply)
      + pending_renewal           = (known after apply)
      + renewal_eligibility       = (known after apply)
      + renewal_summary           = (known after apply)
      + status                    = (known after apply)
      + subject_alternative_names = [
          + "dev.oneidentity.pagopa.it",
        ]
      + tags                      = {
          + "Name" = "dev.oneidentity.pagopa.it"
        }
      + tags_all                  = {
          + "CostCenter"  = "tier0"
          + "CreatedBy"   = "Terraform"
          + "Environment" = "Dev"
          + "Name"        = "dev.oneidentity.pagopa.it"
          + "Owner"       = "Oneidentity"
          + "Source"      = "https://github.com/pagopa/oneidentity"
        }
      + type                      = (known after apply)
      + validation_emails         = (known after apply)
      + validation_method         = "DNS"

      + options {
          + certificate_transparency_logging_preference = "ENABLED"
        }
    }

  # module.network.module.acm.aws_acm_certificate_validation.this[0] will be created
  + resource "aws_acm_certificate_validation" "this" {
      + certificate_arn         = (known after apply)
      + id                      = (known after apply)
      + validation_record_fqdns = (known after apply)

      + timeouts {}
    }

  # module.network.module.acm.aws_route53_record.validation[0] will be created
  + resource "aws_route53_record" "validation" {
      + allow_overwrite = true
      + fqdn            = (known after apply)
      + id              = (known after apply)
      + name            = (known after apply)
      + records         = (known after apply)
      + ttl             = 60
      + type            = (known after apply)
      + zone_id         = "Z1015103262LHAIMGC8Z4"
    }

Plan: 4 to add, 1 to change, 4 to destroy.

Changes to Outputs:
  ~ acm_certificate_validation_domains = [
      - {
          - domain_name           = "dev.oneidentity.pagopa.it"
          - resource_record_name  = "_6365031792191a5d9ed07da3501de40a.dev.oneidentity.pagopa.it."
          - resource_record_type  = "CNAME"
          - resource_record_value = "_820e3279541203e170821f6a1d4190f3.mhbtsbpdnt.acm-validations.aws."
        },
    ] -> (known after apply)

─────────────────────────────────────────────────────────────────────────────

Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
